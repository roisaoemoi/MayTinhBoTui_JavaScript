<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            margin:0px;
            padding:0px;
            box-sizing: border-box;
            font-size: 25px;
            color:white;
        }
        body{
            display:flex;
            justify-content: center;
            align-items:center;
        }
        .container{
            width:305px;
            background-color:#212121;
            margin-top:50px;
            padding:5px;
            border-radius:10px;
            box-shadow: #ccc 10px 15px 15px;
        }
        #input{
            width:100%;
            height:100px;
        }
        .button{
            width:100%;
            display:flex;
            flex-wrap:wrap;
        }
        button{
            margin-left:calc(8%/5);
            margin-top:5px;
            border-radius:50%;
            width:23%;
            height:70px;
            cursor: pointer;
            background-color: gray;
        }
        .button_0{
            width:46%;
            border-radius: 50px;
            margin-right:calc(8%/5);
        }
        .button_line1{
            background-color: #ccc;
            color:black;
        }
        .button_column4{
            background-color: rgb(224, 167, 61);
            color:white
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="input">

        </div>
        <div class="button">
            <button class="button_line1" onClick="Clear()" onmousedown="mousedown_line1(event)" onmouseup="mouseup_line1(event)">AC</button>
            <button class="button_line1" onClick="set_Am()" onmousedown="mousedown_line1(event)" onmouseup="mouseup_line1(event)">+/-</button>
            <button class="button_line1" onclick="set_PhanTram()" onmousedown="mousedown_line1(event)" onmouseup="mouseup_line1(event)">%</button>
            <button class="button_column4" onclick="setInput(event)">/</button><br/>
            <button class="button_add_input" onclick="add_input(event)">7</button>
            <button class="button_add_input" onclick="add_input(event)">8</button>
            <button class="button_add_input" onclick="add_input(event)">9</button>
            <button class="button_column4" onclick="setInput(event)">x</button><br/>
            <button class="button_add_input" onclick="add_input(event)">4</button>
            <button class="button_add_input" onclick="add_input(event)">5</button>
            <button class="button_add_input" onclick="add_input(event)">6</button>
            <button class="button_column4" onclick="setInput(event)">-</button><br/>
            <button class="button_add_input" onclick="add_input(event)">1</button>
            <button class="button_add_input" onclick="add_input(event)">2</button>
            <button class="button_add_input" onclick="add_input(event)">3</button>
            <button class="button_column4" onclick="setInput(event)">+</button><br/>
            <button class="button_0" onclick="add_input(event)">0</button>
            <button onClick="addPoint()">,</button>
            <button class="button_column4"  onCLick="showKq(event)" onmousedown="mouseDown_Kq(event)" onmouseup="mouseUp_Kq(event)">=</button>
        </div>
    </div>

    <script>
        let Number1="";
        let Number2="";
        let Functions="";
        let inFunction="";
        document.getElementById("input").value=0;
        document.getElementById("input").innerText="0";
        function add_input(event)
        {   
            button_column4=document.getElementsByClassName("button_column4");
            for(let i=0;i<button_column4.length;i++)
            {
                button_column4[i].style.backgroundColor="rgb(224, 167, 61)";
                button_column4[i].style.color="white";
            }
            if(inFunction=="1")
            {
                document.getElementById("input").value=0;
                document.getElementById("input").innerText="0";
                inFunction="";
            }
            if(document.getElementById("input").value<=99999999999)
            {
                document.getElementById("input").innerText=parseFloat(document.getElementById("input").innerText+event.target.innerText);
                document.getElementById("input").value=parseFloat(document.getElementById("input").value+event.target.innerText);
                
            }
        }
        function Clear()
        {
            document.getElementById("input").value=0;
            document.getElementById("input").innerText="0";
            Functions="";
            Number1="";
            Number2="";
            inFunction="";
            button_column4=document.getElementsByClassName("button_column4");
            for(let i=0;i<button_column4.length;i++)
            {
                button_column4[i].style.backgroundColor="rgb(224, 167, 61)";
                button_column4[i].style.color="white";
            }
        }
        function set_Am()
        {
            if(Functions!=="")
            {
                if(document.getElementById("input").value!=""){
                    document.getElementById("input").value=-document.getElementById("input").value;
                    document.getElementById("input").innerText=-document.getElementById("input").innerText;
                }
            }
            else
            {
                document.getElementById("input").value=-document.getElementById("input").value;
                document.getElementById("input").innerText=-document.getElementById("input").innerText;
            }
        }
        function set_PhanTram()
        {
            document.getElementById("input").value=document.getElementById("input").value/100;
            document.getElementById("input").innerText=document.getElementById("input").innerText/100;
        }
        function mousedown_line1(event)
        {
            event.target.style.backgroundColor="gray";
            event.target.style.color="white";
        }
        function mouseup_line1(event)
        {
            event.target.style.backgroundColor="#ccc";
            event.target.style.color="black";
        }
        function setInput(event)
        {
            button_column4=document.getElementsByClassName("button_column4");
            for(let i=0;i<button_column4.length;i++)
            {
                button_column4[i].style.backgroundColor="rgb(224, 167, 61)";
                button_column4[i].style.color="white";
            }
            event.target.style.backgroundColor="white";
            event.target.style.color="rgb(224, 167, 61)";
            if(Functions!=="")
            {
                if(Number2==="")
                {
                    Number2=document.getElementById("input").value;
                    if(Number2!=="")
                    {
                        if(Functions=="/")
                        {
                            Number1=Number1/Number2;
                            document.getElementById("input").value="";
                            document.getElementById("input").innerText=Number1;
                        }
                        if(Functions=="-")
                        {
                            Number1=Number1-Number2;
                            document.getElementById("input").value="";
                            document.getElementById("input").innerText=Number1;
                        }
                        if(Functions=="+")
                        {
                            Number1=Number1+Number2;
                            document.getElementById("input").value="";
                            document.getElementById("input").innerText=Number1;
                        }
                        if(Functions=="x")
                        {
                            Number1=Number1*Number2;
                            document.getElementById("input").value="";
                            document.getElementById("input").innerText=Number1;
                        }
                        Funnctions=event.target.innerText;
                        Number2="";
                    }
                }
                Functions=event.target.innerText;
                inFunction="1";
            }
            else
            {
                Number1=document.getElementById("input").value;
                document.getElementById("input").value="";
                Functions=event.target.innerText;
                inFunction="1";
            }
            
        }
        function addPoint()
        {
            let input=document.getElementById("input").value+"";
            if(!input.includes("."))
            {
                document.getElementById("input").value=document.getElementById("input").value+".";
                document.getElementById("input").innerText=document.getElementById("input").innerText+".";
            }
        }
        function mouseDown_Kq(event)
        {
            event.target.style.backgroundColor="white";
            event.target.style.color="rgb(224, 167, 61)";
        }
        function mouseUp_Kq(event)
        {
            event.target.style.backgroundColor="rgb(224, 167, 61) ";
            event.target.style.color="white";
        }
        function showKq(event)
        {
            button_column4=document.getElementsByClassName("button_column4");
            for(let i=0;i<button_column4.length;i++)
            {
                button_column4[i].style.backgroundColor="rgb(224, 167, 61)";
                button_column4[i].style.color="white";
            }
            
            if(Functions!="")
            {
                Number2=document.getElementById("input").value;
                if(Number2!=="")
                {
                    if(Functions=="/")
                    {
                        Number1=Number1/Number2;
                        document.getElementById("input").value=Number1;
                        document.getElementById("input").innerText=Number1;
                    }
                    if(Functions=="-")
                    {
                        Number1=Number1-Number2;
                        document.getElementById("input").value=Number1;
                        document.getElementById("input").innerText=Number1;
                    }
                    if(Functions=="+")
                    {
                        Number1=Number1+Number2;
                        document.getElementById("input").value=Number1;
                        document.getElementById("input").innerText=Number1;
                    }
                    if(Functions=="x")
                    {
                        Number1=Number1*Number2;
                        document.getElementById("input").value=Number1;
                        document.getElementById("input").innerText=Number1;
                    }
                }
                else
                {
                    document.getElementById("input").innerText="Lỗi: Thiếu Đối Số!";
                }
                Funnctions="";
                inFunction="1";
            }
            else
            {
                if(Number1!="")
                {
                    document.getElementById("input").value=Number1;
                    document.getElementById("input").innerText=Number1;
                }
            }
            Functions="";
        }
    </script>
</body>
</html>